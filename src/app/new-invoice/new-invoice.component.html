<app-generic-layout>
    <header header class="flex justify-between">

        <p class="mb-0 font-bold">Create A New Invoice</p>
        <div>
            <button style="margin-right: 14px;" class=" btn bg-danger text-white ">Clear</button>
            <button (click)="saveInvoice()" class="btn bg-secondary text-white">Save & Preview</button>
        </div>

    </header>

    <body content>


        <nz-collapse [nzExpandIconPosition]="'right'">
            <nz-collapse-panel [nzHeader]="'FORM SETTINGS'" [nzActive]="false">
                <div style="margin-left: 15px;">
                    <p class="my-2 text-sm" style="color: rgb(145, 145, 145);">
                        Toggle any field to make it required in the form.
                    </p>
                    <div class="w-2/4">
                        <app-toggle-options class="w-full" />
                    </div>
                </div>
            </nz-collapse-panel>
        </nz-collapse>



        <div class="px-7 border-t py-3">
            <p class="title-text">RECIPIENT *</p>

            <nz-radio-group class="flex flex-col mt-3" [(ngModel)]="isNewContact" [ngModelOptions]="{standalone: true}">
                <label (click)="createUser()" nz-radio [nzValue]="true" class="pb-1">Create New</label>
                <label (click)="loadUsers()" nz-radio [nzValue]="false">Select</label>
            </nz-radio-group>

            <div class="py-3">
                <div *ngIf="isNewContact">
                    <app-create-new></app-create-new>
                </div>

                <nz-select *ngIf="!isNewContact" [(ngModel)]="selectedContact" class="w-full"
                    [ngModelOptions]="{standalone: true}">

                    <nz-option *ngFor="let user of users" [nzValue]="user.id" [nzLabel]="user.displayName"></nz-option>
                </nz-select>
            </div>

        </div>
        <div>
            <app-new-service />
        </div>
        <div>
            <app-prepayments />
        </div>

        <div class="px-7 pb-3">
            <p class="px-7 title-text-md py-3">RECIPIENT</p>
            <app-new-invoice-options />
        </div>
    </body>
</app-generic-layout>